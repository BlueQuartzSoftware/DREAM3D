<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html>
<head>
<meta name="qrichtext" content="1" />
<style type="text/css">
h1.pHeading1 { color: #003366; font-family: Arial, Verdana, Helvetica, sans-serif; font-size: x-large; font-weight: bold; text-align: left }
h2.pHeading2 { color: #003366; font-family: Arial, Verdana, Helvetica, sans-serif; font-size: large; font-weight: bold; text-align: left }
p.pBody { font-family: Arial, Verdana, Helvetica, sans-serif; font-size: medium; text-align: left }
p.pCellBody { font-family: Arial, Verdana, Helvetica, sans-serif; font-size: medium; text-align: left }
#footer
{
   font-family: Arial, Verdana, Helvetica, sans-serif;
   font-color:Blue;
   font-size:small;
   background-color:#CCCCCC;
   padding:0pt;
   position:fixed;
   bottom:1%;
   left:1%;
   width:98%;
}
</style>
<title>Align Sections (Feature)</title>
</head>
<body>
<h1 class="pHeading1">Align Sections (Feature) Filter</h1>
<p class="pCellBody">
<a href="../ReconstructionFilters/AlignSectionsFeature.html#wp2">Description</a> | <a href="../ReconstructionFilters/AlignSectionsFeature.html#wp3">Options</a> | <a href="../ReconstructionFilters/AlignSectionsFeature.html#wp4">Required Arrays</a> | <a href="../ReconstructionFilters/AlignSectionsFeature.html#wp5">Created Arrays</a> | <a href="../ReconstructionFilters/AlignSectionsFeature.html#wp1">Authors</a> </p>



<a name="wp7"></a>
<h2 class="pHeading2">Group</h2>
<p class="pBody">Reconstruction Filters</p>


<a name="wp2"> </a><h2 class="pHeading2">Description</h2>
<p class="pBody">
<!-- Write all your documentation here -->
This filter attempts to align consecutive serial sections by determining the position that results in the most overlap
of previously defined "regions".  The "regions" are defined by a binary/boolean array where the voxels/datapoints have been flagged
by another filter.  Typically, during reading of the data, each voxel/datapoint is subject to a "Quality Metric" (or threshold) that 
defines if the voxel/datapoint is "good".  This threshold can be used to define areas of each slice that are bad, either due to actual 
features in the microstructure or external references inserted by the user/experimentalist.  If these "regions" of "bad" voxels/datapoints 
are believed to be consistent through sections, then this filter will preserve that by aligning those "regions" on top of one another on 
consecutive sections.<br />
The algorithm of this filter is as follows:<br />
<br />
1) Compare the value of the binary/boolean array for each voxel/datapoint in a section with the value of the array for the voxel/datapoint 
directly above it in the next section.  <br />
2) Count the number of voxel/datapoint pairs that do not have the same value and store that as the misalignment value for that position.<br />
3) Repeat steps 1 and 2 for each position when shifting the second slice (relative to the first) from three (3) voxels/datapoints to the left 
to three (3) voxels/datapoints to the right, as well as from three (3) voxels/datapoints up to three (3) voxels/datapoints down.<br />
*Note that this creates a 7x7 grid*<br />
4) Determine the position in the 7x7 grid that has the lowest misalignment value. (It will be the position with the fewest different voxel/datapoint pairs).<br />
5) Repeat steps 1-4 with the center of each (new) 7x7 grid at the best position from the last 7x7 grid until the best position in the current/new 7x7 grid is the same
as the last 7x7 grid.<br />
*Note that this is similar to a downhill simplex and can get caught in a local minima*<br />
<br />
  
<!-- Do NOT write documentation below this line -->
</p>

<!-- DREAM3D AUTO-GENERATED DOCUMENTATION START -->
<!-- A TABLE OF Options FOR YOUR FILTER -->
<a name="wp3"> </a><h2 class="pHeading2">Parameters</h2>
<!-- A table of Required Data for your filter -->
<a name="wp4"> </a><h2 class="pHeading2">Required Arrays</h2>
<table border="0" cellpadding="4" cellspacing="1">
<tr bgcolor="#A2A2A2"><th>Type</th><th>Name</th><th>Description</th><th>Comment</th></tr>
<tr bgcolor="#E2E2E2"><td>Cell</td><td>GoodVoxels</td><td>Boolean values used to define "regions" to be aligned</td><td>Values are not required to be based on "good" or "bad" data, rather must only correspond to some identified "regions" </td></tr>
</table>
<!-- A table of Created Data for your filter -->
<a name="wp5"> </a><h2 class="pHeading2">Created Arrays</h2>
<table border="0" cellpadding="4" cellspacing="1">
<tr bgcolor="#A2A2A2"><th>Type</th><th>Name</th><th>Decription</th><th>Comment</th></tr>
</table>
<a name="wp1"> </a><h2 class="pHeading2">Authors</h2>
<p class="pBody">
<b>Copyright:</b> 2012 Michael A. Groeber (AFRL),<br />&nbsp;&nbsp;2012 Michael A. Jackson (BlueQuartz Software)<br />
<b>Contact Info:</b> dream3d@bluequartz.net<br />
<b>Version:</b> 1.0.0<br />
<b>License:</b> See the License.txt file that came with DREAM3D.<br />
</p>
<!-- DREAM3D AUTO-GENERATED DOCUMENTATION END -->
<div>
<table width="98%" border="0" bgcolor="#CCCCCC"><tr><td><a href="../index.html">Index</a></td></tr></table>
</div>
</body>
</html>
